## InnoDB--B+Tree

注意：

- InnoDB是通过B+Tree结构对主键创建索引，然后叶子节点中存储数据，如果没有主键，那么会选择唯一键，如果没有唯一键，会生成一个6位的row id来作为主键
- 如果创建索引的键是其他字段，那么在叶子节点中存储的是该记录的主键，然后在通过主键索引找到对应的记录。

## 索引的分类

索引的五种类型： 主键索引、唯一索引、普通索引和全文索引、组合索引。通过添加索引可以提高数据的读写速度，提高项目的并发能力和抗压能力

- ### 主键索引

  主键是一种唯一性索引，但它必须指定PRIMARYKEY，每个表只能有一个主键

- ### 唯一索引

  索引列的所有值都只能出现一次，即必须唯一，值可以为空

- ### 普通索引

  基本的索引类型，值可以为空，没有唯一性的限制

- ### 全文索引

  全文索引的索引类型为FULLTEXT。全文索引可以在varchar、char、text类型的列上创建

- ### 组合索引

	多列值组成一个索引，专门用于组合搜索。
	
### MyISAM 和 InnoDB对比 

|              | MyISAM     | InnoDB                     |
| ------------ | ---------- | -------------------------- |
| 索引类型     | 非聚簇索引 | 聚簇索引                   |
| 支持事务     | 否         | 是                         |
| 支持表锁     | 是         | 是                         |
| 支持行锁     | 否         | 是                         |
| 支持外键     | 否         | 是                         |
| 支持全文索引 | 是         | 是（5.6后支持）            |
| 适合操作类型 | 大量select | 大量insert、delete、update |

索引的目的：提高查询效率。其根本目的就是减少IO的操作，可以从两个方面入手：1、减少IO次数2、减少IO量

![image-20210107161731271](/Users/beifeng/Library/Application Support/typora-user-images/image-20210107161731271.png)

 

存储引擎：数据文件在磁盘的 不同组织形式

- InnoDB

- memory

- myisam



![image-20210107163948148](/Users/beifeng/Library/Application Support/typora-user-images/image-20210107163948148.png)

是否是聚簇索引：数据跟索引是否绑定在一起。